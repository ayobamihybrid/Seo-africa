"use strict";exports.id=992,exports.ids=[992],exports.modules={24992:(a,b,c)=>{c.d(b,{Iz:()=>f,f5:()=>g});let d="https://seo-cms.hyphen.digital/api";async function e(a,b={},c=3,d=1e3){let f;for(let e=1;e<=c;e++)try{console.log(`üîÑ Attempt ${e}/${c} for ${a}`);let d=await fetch(a,{...b,signal:AbortSignal.timeout(5e3*e)});if(d.ok)return console.log(`‚úÖ Success on attempt ${e}`),d;throw Error(`HTTP ${d.status}: ${d.statusText}`)}catch(a){if(console.warn(`‚ùå Attempt ${e} failed:`,(f=a instanceof Error?a:Error(String(a))).message),f.message.includes("404")||f.message.includes("403"))break;e<c&&(console.log(`‚è≥ Waiting ${d}ms before retry...`),await new Promise(a=>setTimeout(a,d)),d*=1.5)}throw f}function f(a){if(a?.data?.attributes?.url){let b=a.data.attributes.url;return b.startsWith("http")?b:`${d}${b}`}if(a?.url){let b=a.url;return b.startsWith("http")?b:`${d}${b}`}return"string"==typeof a?a.startsWith("http")?a:`${d}${a}`:(console.warn("‚ö†Ô∏è No image data provided or unrecognized format:",a),"")}async function g(a){try{let b=`${d}/programmes?pLevel=4&filters[slug]=${a}`;console.log("Fetching programme by slug from:",b);let c=await e(b,{headers:{"Content-Type":"application/json","User-Agent":"NextJS-Server"}},3,1e3),f=await c.json();if(console.log("‚úÖ Programme by slug API response received",f),!f.data||0===f.data.length)throw Error("No programme found with the provided slug");return f.data[0]}catch(b){let a=b instanceof Error?b.message:"string"==typeof b?b:"An unknown error occurred";throw console.error("Failed to fetch programme by slug:",a),Error(`Unable to fetch programme by slug from Strapi: ${a}`)}}}};